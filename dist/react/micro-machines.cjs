"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react"),n=require("../micro-machines.cjs"),u=c=>{const[t,a]=s.useState(),[o,r]=s.useState({context:void 0,state:void 0});s.useEffect(()=>{const e=c();return e.onStateChanged(({state:S,context:d})=>{r({state:S,context:{...d}})}),a(e),()=>{e.clearListeners(),a(void 0)}},[c]);const i=s.useCallback(()=>{t==null||t.start().catch(e=>{throw e})},[t]);return{...o,ready:t!==void 0,start:i,success:(t==null?void 0:t.success)===!0,terminated:(t==null?void 0:t.terminated)===!0}},M=c=>{const{start:t,state:a,context:o,ready:r,success:i,terminated:e}=u(c);return s.useEffect(()=>{r&&t()},[r,t]),{state:a,context:o,success:i,terminated:e}};exports.State=n.State;exports.StateMachine=n.StateMachine;exports.compose=n.compose;exports.createMachine=n.createMachine;exports.useAutoStartingMachine=M;exports.useMachine=u;
