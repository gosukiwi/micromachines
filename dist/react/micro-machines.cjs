"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("react"),u=require("../micro-machines.cjs"),S=r=>{const[t,s]=c.useState(),[i,o]=c.useState({context:void 0,state:void 0});c.useEffect(()=>{const e=r();return e.onStateChanged(({state:a,context:d})=>{o({state:a,context:{...d}})}),s(e),()=>{e.clearListeners(),s(void 0)}},[r]);const n=c.useCallback(e=>{t==null||t.start(e).catch(a=>{throw a})},[t]);return{...i,ready:t!==void 0,start:n,success:(t==null?void 0:t.success)===!0,terminated:(t==null?void 0:t.terminated)===!0}},M=(r,t)=>{const{start:s,state:i,context:o,ready:n,success:e,terminated:a}=S(r);return c.useEffect(()=>{n&&s(t)},[n,s,t]),{state:i,context:o,success:e,terminated:a}};exports.State=u.State;exports.StateMachine=u.StateMachine;exports.createMachine=u.createMachine;exports.useAutoStartingMachine=M;exports.useMachine=S;
