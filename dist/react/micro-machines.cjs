"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react"),i=require("../micro-machines.cjs"),M=n=>{const[t,a]=s.useState(),[u,o]=s.useState({context:void 0,state:void 0});s.useEffect(()=>{const e=n();return e.onStateChanged(({state:c,context:S})=>{o({state:c,context:{...S}})}),a(e),()=>{e.clearListeners(),a(void 0)}},[n]);const r=s.useCallback(e=>{t==null||t.start(e).catch(c=>{throw c})},[t]);return{...u,ready:t!==void 0,start:r,success:(t==null?void 0:t.success)===!0,terminated:(t==null?void 0:t.terminated)===!0}},d=(n,t)=>{const{start:a,state:u,context:o,ready:r,success:e,terminated:c}=M(n);return s.useEffect(()=>{r&&a(t)},[r,a]),{state:u,context:o,success:e,terminated:c}};exports.State=i.State;exports.StateMachine=i.StateMachine;exports.createMachine=i.createMachine;exports.runMachine=i.runMachine;exports.useAutoStartingMachine=d;exports.useMachine=M;
